-- 插入用户数据（密码统一为：123456的bcrypt加密）
INSERT INTO its_user_module.sys_user (id, username, password, email, phone, status) VALUES
(1534356436856324096, 'admin', '$2a$10$x6xGqFZ0LK6F0IwQxw5IW.kIZrFE3HN3v.gY9s76HrEuuPUmH8YRe', 'admin@example.com', '13800000001', 1),
(1534356436856324097, 'teacher1', '$2a$10$x6xGqFZ0LK6F0IwQxw5IW.kIZrFE3HN3v.gY9s76HrEuuPUmH8YRe', 'teacher1@example.com', '13800000002', 1),
(1534356436856324098, 'student1', '$2a$10$x6xGqFZ0LK6F0IwQxw5IW.kIZrFE3HN3v.gY9s76HrEuuPUmH8YRe', 'student1@example.com', '13800000003', 1);

-- 插入用户详情
INSERT INTO its_user_module.user_detail (id, user_id, avatar_url, gender, birthday, address, bio) VALUES
(1534356436856324099, 1534356436856324096, 'https://example.com/avatars/admin.jpg', '男', '1990-01-01', '江苏南京', '系统管理员'),
(1534356436856324100, 1534356436856324097, 'https://example.com/avatars/teacher1.jpg', '女', '1985-05-15', '江苏南京', '资深教师'),
(1534356436856324101, 1534356436856324098, 'https://example.com/avatars/student1.jpg', '男', '2000-08-20', '江苏南京', '在校学生');

-- 插入角色
INSERT INTO its_user_module.role (id, name, description) VALUES
(1534356436856324102, 'ADMIN', '系统管理员'),
(1534356436856324103, 'TEACHER', '教师'),
(1534356436856324104, 'STUDENT', '学生');

-- 插入权限（按模块和操作类型组织）
INSERT INTO its_user_module.permission (id, code, name, type, parent_id, description) VALUES
-- 用户管理模块
(1534356436856324105, 'user:*:*', '用户管理', 'MENU', null, '用户管理模块所有权限'),
(1534356436856324106, 'user:list:view', '查看用户列表', 'API', 1534356436856324105, '查看用户列表权限'),
(1534356436856324107, 'user:create:add', '创建用户', 'API', 1534356436856324105, '创建新用户权限'),
(1534356436856324108, 'user:update:edit', '编辑用户', 'API', 1534356436856324105, '编辑用户信息权限'),
-- 角色管理模块
(1534356436856324109, 'role:*:*', '角色管理', 'MENU', null, '角色管理模块所有权限'),
(1534356436856324110, 'role:list:view', '查看角色列表', 'API', 1534356436856324109, '查看角色列表权限'),
(1534356436856324111, 'role:create:add', '创建角色', 'API', 1534356436856324109, '创建新角色权限'),
-- 资源管理模块
(1534356436856324112, 'resource:*:*', '资源管理', 'MENU', null, '资源管理模块所有权限'),
(1534356436856324113, 'resource:list:view', '查看资源列表', 'API', 1534356436856324112, '查看资源列表权限'),
(1534356436856324114, 'resource:create:add', '上传资源', 'API', 1534356436856324112, '上传新资源权限');

-- 用户角色关联
INSERT INTO its_user_module.user_role (id, user_id, role_id) VALUES
(1534356436856324115, 1534356436856324096, 1534356436856324102), -- admin -> ADMIN
(1534356436856324116, 1534356436856324097, 1534356436856324103), -- teacher1 -> TEACHER
(1534356436856324117, 1534356436856324098, 1534356436856324104); -- student1 -> STUDENT

-- 角色权限关联
INSERT INTO its_user_module.role_permission (id, role_id, permission_id) VALUES
-- 管理员角色权限（所有权限）
(1534356436856324118, 1534356436856324102, 1534356436856324105), -- 用户管理所有权限
(1534356436856324119, 1534356436856324102, 1534356436856324109), -- 角色管理所有权限
(1534356436856324120, 1534356436856324102, 1534356436856324112), -- 资源管理所有权限
-- 教师角色权限
(1534356436856324121, 1534356436856324103, 1534356436856324106), -- 查看用户列表
(1534356436856324122, 1534356436856324103, 1534356436856324113), -- 查看资源列表
(1534356436856324123, 1534356436856324103, 1534356436856324114), -- 上传资源
-- 学生角色权限
(1534356436856324124, 1534356436856324104, 1534356436856324113); -- 只能查看资源列表

-- 创建用户组
INSERT INTO its_user_module.user_group (id, group_name, description, create_user) VALUES
(1534356436856324125, '2023级软件工程1班', '软件工程专业2023级1班', 1534356436856324097),
(1534356436856324126, '2023级软件工程2班', '软件工程专业2023级2班', 1534356436856324097);

-- 用户组关联
INSERT INTO its_user_module.user_group_mapping (id, user_id, group_id) VALUES
(1534356436856324127, 1534356436856324097, 1534356436856324125), -- teacher1 -> 1班
(1534356436856324128, 1534356436856324097, 1534356436856324126), -- teacher1 -> 2班
(1534356436856324129, 1534356436856324098, 1534356436856324125); -- student1 -> 1班 